<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Banner Hub{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  {% block extra_css %}{% endblock %}

  <style>
  :root {
    --bg-main: linear-gradient(135deg,#0f0626,#1b0f3a,#0b1b2e);
    --glass-bg: rgba(255,255,255,.06);
    --glass-border: rgba(255,255,255,.12);
    --primary: #6f5cff;
    --accent: #00ffd5;
    --text-main: #eaeaf0;
    --text-muted: #a8a8c7;
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    background: var(--bg-main);
    color: var(--text-main);
    font-family: Inter, system-ui, sans-serif;
    overflow-x: hidden;
  }

  /* NAVBAR */
  .navbar {
    background: rgba(10,5,30,.85);
    backdrop-filter: blur(16px);
    border-bottom: 1px solid var(--glass-border);
  }

  /* MAIN WRAPPER */
  .main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 24px 16px;
  }

  /* FLASH */
  .alert {
    border-radius: 14px;
    background: rgba(255,255,255,.08);
    border: 1px solid var(--glass-border);
    color: white;
  }

  /* CATEGORY BAR */
  .category-navbar {
    position: sticky;
    top: 64px;
    z-index: 20;
    background: rgba(10,5,30,.9);
    border-bottom: 1px solid var(--glass-border);
    padding: 10px 0;
  }

  .category-scroll {
    display: flex;
    gap: 14px;
    overflow-x: auto;
    padding: 0 16px;
    scrollbar-width: none;
  }

  .category-scroll::-webkit-scrollbar { display: none; }

  .category-scroll a {
    white-space: nowrap;
    padding: 8px 14px;
    border-radius: 999px;
    font-size: 14px;
    text-decoration: none;
    color: var(--text-muted);
    background: rgba(255,255,255,.06);
    transition: .2s;
  }

  .category-scroll a:hover {
    color: white;
    background: var(--primary);
  }

  /* TEMPLATE CARDS */
  .template-card {
    position: relative;
    border-radius: 18px;
    overflow: hidden;
    background: #0b1020;
    aspect-ratio: 3/4;
    box-shadow: 0 20px 40px rgba(0,0,0,.45);
  }

  .template-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .template-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,.85), transparent 55%);
    opacity: 0;
    transition: .25s;
  }

  .template-card:hover .template-overlay {
    opacity: 1;
  }

  .template-info {
    position: absolute;
    bottom: 12px;
    left: 12px;
    right: 12px;
  }

  .template-info h6 {
    margin: 0;
    font-weight: 700;
  }

  .template-info span {
    font-size: 14px;
    color: var(--accent);
  }

  .template-card-link {
    text-decoration: none;
    color: inherit;
  }

  @media (max-width:768px) {
    .main-container { padding: 16px 12px; }
  }
  </style>
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
  <div class="container-fluid px-4">
    <a class="navbar-brand d-flex align-items-center" href="{{ url_for('index') }}">
      <img src="{{ url_for('static', filename='logo.png') }}" style="height:36px" class="me-2">
      <span style="font-family:Montserrat;font-weight:800">BANNER HUB</span>
    </a>

    <div class="collapse navbar-collapse show">
      <ul class="navbar-nav ms-auto align-items-center gap-3">
        {% if current_user.is_authenticated %}
          <li><a href="{{ url_for('wallet') }}" class="nav-link">
    <span class="badge bg-success d-flex align-items-center gap-1">
      ðŸ’° â‚¹{{ "%.2f"|format(current_user.wallet_balance) }}
    </span>
  </a>
</li>

          {% if current_user.is_admin %}
            <li><a class="nav-link" href="{{ url_for('admin_templates') }}">Admin</a></li>
            <li><a class="nav-link" href="{{ url_for('admin_referrals') }}">Referrals</a></li>
          {% endif %}
          <li><a class="nav-link text-danger" href="{{ url_for('logout') }}">Logout</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="main-container">
      {% for cat,msg in messages %}
        <div class="alert alert-{{cat}}">{{ msg }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

{% block content %}{% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% block extra_js %}{% endblock %}
</body>
</html>

